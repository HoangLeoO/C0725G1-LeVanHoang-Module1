<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    table {
        border-collapse: collapse;
        width: 100%;

    }

    table tr, th, td {
        border: 1px solid black;
    }

    th, td {
        width: 100px;
        height: 50px;
    }

</style>
<body>
<br>
<div id="result_input"></div>
<div>
    <button onclick="quanLy.sapXep()">Sắp Xếp</button>
</div>
<br>
<div id="result_list"></div>

<script>
    class DienThoai {
        constructor(ma, ten, hSX, giaBan) {
            this.ma = ma;
            this.ten = ten;
            this.hSX = hSX;
            this.giaBan = giaBan;
        }

        getMa() {
            return this.ma;
        }

        setMa(value) {
            this.ma = value;
        }

        getTen() {
            return this.ten;
        }

        setTen(value) {
            this.ten = value;
        }

        getHSX() {
            return this.hSX;
        }

        setHSX(value) {
            this.hSX = value;
        }

        getGiaBan() {
            return this.giaBan;
        }

        setGiaBan(value) {
            this.giaBan = value;
        }

        toString() {
            return this.ma + this.ten + this.hSX + this.giaBan;
        }
    }

    class QuanLyDienThoai {
        constructor() {
            this.dienThoai = [];
        }

        themDienThoai() {
            let ma = document.getElementById("ma").value;
            let ten = document.getElementById("ten").value;
            let hSX = document.getElementById("hang").value;
            let giaBan = document.getElementById("giaBan").value;
            console.log(ma, ten, hSX, parseFloat(giaBan));
            let dienThoai = new DienThoai(ma, ten, hSX, parseFloat(giaBan));
            this.dienThoai.push(dienThoai);
            this.listDienThoai();
        }

        listDienThoai() {
            let table_text = "<table>";
            table_text += "<tr>";
            table_text += "<th>Mã</th>";
            table_text += "<th>Tên Máy</th>";
            table_text += "<th>Hãng Sản Xuất</th>";
            table_text += "<th>Giá Bán</th>";
            table_text += "</tr>";
            for (let i = 0; i < this.dienThoai.length; i++) {
                table_text += "<tr>";
                table_text += `<td>${this.dienThoai[i].getMa()}</td>`;
                table_text += `<td>${this.dienThoai[i].getTen()}</td>`;
                table_text += `<td>${this.dienThoai[i].getHSX()}</td>`;
                table_text += `<td>${this.dienThoai[i].getGiaBan()}</td>`;
                table_text += "</tr>";
            }
            table_text += "</table>";
            document.getElementById("result_list").innerHTML = table_text;
            this.bangThem();
        }

        bangThem() {
            let createForm = '<form>';
            createForm += `<label for="ma">Mã Điện Thoại : </label>`;
            createForm += `<input id="ma" type="text" placeholder="Nhap Ma" ">`;
            createForm += `<label for="ten">Tên Điện Thoại : </label>`;
            createForm += `<input id="ten" type="text" placeholder="Nhap Ten" ">`;
            createForm += `<label for="hang">Hãng Sản Xuất : </label>`;
            createForm += `<input id="hang" type="text" placeholder="Nhap Hang San Xuat">`;
            createForm += `<label for="giaBan">Giá Bán : </label>`;
            createForm += `<input id="giaBan" type="number" placeholder="Gia Ban">`;
            createForm += `<button id="btn-add"   type="button" onclick="quanLy.themDienThoai()" >Thêm mới</button>`;
            createForm += `</form>`
            document.getElementById("result_input").innerHTML = createForm;
            document.getElementById("ma").value = "";
            document.getElementById("ten").value = "";
            document.getElementById("hang").value = "";
            document.getElementById("giaBan").value = "";
        }


        sapXep() {

            let arr = [...this.dienThoai];
            let arr1 = [];
            for (let i = 0; i < arr.length; i++) {
                arr1.push(arr[i].getTen());
            }
            arr1.sort();
            console.log(arr);
            console.log(arr1);
            let arr3 = new Array(arr.length);
            for (let i = 0; i < arr.length; i++) {
                let index = arr1.indexOf(arr[i].getTen());
                arr3[index] = arr[i];
            }
            console.log(arr3);


            let table_text = "<table>";
            table_text += "<tr>";
            table_text += "<th>Mã</th>";
            table_text += "<th>Tên Máy</th>";
            table_text += "<th>Hãng Sản Xuất</th>";
            table_text += "<th>Giá Bán</th>";
            table_text += "</tr>";
            for (let i = 0; i < arr3.length; i++) {
                table_text += "<tr>";
                table_text += `<td>${arr3[i].getMa()}</td>`;
                table_text += `<td>${arr3[i].getTen()}</td>`;
                table_text += `<td>${arr3[i].getHSX()}</td>`;
                table_text += `<td>${arr3[i].getGiaBan()}</td>`;
                table_text += "</tr>";
            }
            table_text += "</table>";
            document.getElementById("result_list").innerHTML = table_text;

        }
    }

    let quanLy = new QuanLyDienThoai();
    quanLy.listDienThoai();

</script>
</body>
</html>